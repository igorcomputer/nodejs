
# NPM - Пакетный менеджер Node.js

### NPM - используется для загрузки пакетов node.js

**Простейшие команды консоли (терминала) для node.js**   

```sh
node            // переход в команды node.js   
node -v         // узнать версию node.js   
node script.js  // выполнение файла   
```

### Команды NPM   
 
#### Старт проекта NPM: 
```sh
npm init        // Инициализация проекта (создание файла "package.json")
npm help json   // Вызов справки по файлу "package.json"    
npm install     // Установка пакетов, прописанных в файле "package.json"
                // (разделы "dependencies", "devDependencies" этого файла)
```

#### Установка модулей NPM:
**Лакально**    - в папку node_modules в текущий каталог    
**Глобально**   - в папку node_modules в папку пользователя  

```sh 
npm i <имя модуля> -g             // Глобально  
sudo npm i modulename -g          // Установка модуля с указанием прав (sudo)  
npm i <имя модуля>                // Лакально без записи в package.json   
npm i <имя модуля> --save         // Локально с записью в package.json (dependencies)   
npm i <имя модуля> --S            // --- сокращенная запись   
npm i <имя модуля> --save-dev     // Локально с записью в package.json (devDependencies)   
npm i <имя модуля> --D            // --- сокращенная запись   
```

#### Глобальная установка модулей npm:  

```sh
npm list -g                       // Список модулей установленных глобально    
npm -g ls --depth=0               // Список установленных глобально модулей с учетом уровней вложенности   
```

> **Примечание:**      
Если модуль установлен глобально, он будет доступен только по системному пути, но не будет доступен в проекте!    
> Т.е. глобально устанавливаются модули, которые являются в основном системными утилитами, и нужны разработчику для каких то специфических задач.

#### Лакальная установка модулей npm:   

```sh
npm install modulename            // Без добавления записи в раздел "dependencies" файла "package.json" 
npm install modulename —-save     // Будет добавлена запись в "package.json", в раздел "dependencies"   
npm config set save true          // Бсе устанавливаемый пакеты будут  прописываться в "package.json"
npm uninstall modulename —-save   // Удаление модуля записи из раздела "dependencies"  
npm uninstall modulename          // Удаление модуля, без удаления записи в  "dependencies" 
npm list                          // Список установленных модулей в папку "node_modules" текущего проекта 
npm prune                         // Удаление модулей из "node_modules" проекта, 
                                  // которые отстутсвуют в "dependencies" 
```

#### Обновление модулей:    
```sh
npm -g update или npm -g up       // Обновление всех глобальных модулей
npm -g up <modulename>            // Обновление модуля
```

> **Примечание:**   
При установке модулей лакально, в текущем каталоге будет создана папка "node_modules", в которую будут загружены каталоги с модулями.

> Если удалить папку **node_modules**, а затем выполнить команду npm install,
тогда в текущий каталог будут загружены модули, в соответствии с файлом **"package.json"**   

> **При использовании Git** в файл **.gitignore**, необходимо дописать строку: **node_modules**, чтобы файлы не отслеживались, их всегда можно восстановить командой `npm install`

> **\*** - звездочка означает закачать любую последнюю версию модуля
Т.е. размещаем файл "package.json" затем выполняем команду `npm install`  

> Все зависимости устанавливаемого модуля, устанавливаются в поддиректорию **node_modules**, таким образом, предотвращаются возможные конфликты, между разными версиями модулей.

> Файл **"package.json"** может содержать секцию **"devDependencies"**, в ней указываются модули, которые необходимы для разработки, но для проекта они могуть быть не нужны.

```javascript 
{"devDependencies": {
  "jade" : "*"
}}
```


### NVM - Менеджер загрузки версий node.js

Для разных проектов могут потребоваться свои версии node, поэтому используются менеджеры версий:
  
**nvm** - работает только на Mac OS 

### Установка на Mac OS: 
Ссылка на источник: http://bit.ly/2sL74Dj

**Скачиваем:** 
```sh  
curl https://raw.githubusercontent.com/creationix/nvm/v0.11.1/install.sh | bash
```

**Процесс установки и переключения версий:**
```sh 
. ~/.nvm/nvm.sh                  // Запускаем   
nvm или nvm help                 // Просмотр справки   
nvm ls-remote                    // Смотрим доступные версии, которые можно загрузить  
nvm ls                           // Список загруженных версий  
nvm install -s <version>         // Установка версии пакета    
npm install http-server@0.3.0    // Установка определенной версии пакета  
nvm install -s 7.7.0             // Загрузука и устаноовка версии 7.7.0  

nvm use 7.7.0                    // Переключить на версию 7.7.0
node -v                          // Вывести номер текущей версии  
```




